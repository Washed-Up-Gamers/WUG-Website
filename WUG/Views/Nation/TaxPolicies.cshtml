@model WUG.Database.Models.Nations.Nation
@using WUG.Blazor.Components.Taxes

@{
    ViewData["Title"] = $"Edit Tax Policies";
}

@{
    User user = UserManager.GetUser(Context)!;
}
<link href="/WUG.Blazor.styles.css" rel="stylesheet">

<center>
    <div class="container vw-100">
        <div class="col-12">
            @await Html.PartialAsync("_StatusMessage", TempData["StatusMessage"])

            <h3 style="text-align:center">@ViewData["Title"]</h3>
            <h2 style="text-align:center">@Model.Name</h2>

            <br />

            <a asp-controller="Nation" asp-action="View" asp-route-name="@Model.Name">
                <button class="btn btn-primary" style="float:left;">Go Back To Nation Page</button>
            </a>

            <br />
            <br/>

            <component type="typeof(ManageTaxPoliciesComponent)" render-mode="WebAssemblyPrerendered" param-NationId="@Model.Id" param-IsGovernor="@(Model.GovernorId == user.Id)"/>

        <br />
        <br />

        @section Scripts {
            @await Html.PartialAsync("_ValidationScriptsPartial")
        }
    </div>
</center>